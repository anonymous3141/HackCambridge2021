<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="static/main.css"/>
</head>
<body class="is-preload">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    function refreshing() {
        fetch('/test')
            .then(function (response) {
                return response.json();
            }).then(function (text) {
            console.log('GET response:');
            console.log(text);
            document.getElementById('sentiment').innerHTML =
                'Sentiment score: ' + (text.response);
        });
    }
</script>

<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->
            <header id="header">
                <a href="index.html" class="logo"><strong>Sentiment predictor</strong> by 3T1K</a>
            </header>

            <!-- Content -->
            <section>
                <header class="main">

                    <h1 id="sentiment" style="display:flex;align-items: center;">Sentiment score:
                        <svg id="preloader" width="240px" height="120px" viewBox="0 0 240 120"
                             xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink">

                            <!--stroke="black" stroke-width="2" fill="none"-->
                            <path stroke="#f56a6a" stroke-width="9" fill="none" id="loop-normal" class="st1" d="M120.5,60.5L146.48,87.02c14.64,14.64,38.39,14.65,53.03,0s14.64-38.39,0-53.03s-38.39-14.65-53.03,0L120.5,60.5
    L94.52,87.02c-14.64,14.64-38.39,14.64-53.03,0c-14.64-14.64-14.64-38.39,0-53.03c14.65-14.64,38.39-14.65,53.03,0z">
                                <animate attributeName="stroke-dasharray" from="500, 50" to="450 50" begin="0s" dur="2s"
                                         repeatCount="indefinite"/>
                                <animate attributeName="stroke-dashoffset" from="-40" to="-540" begin="0s" dur="2s"
                                         repeatCount="indefinite"/>
                            </path>

                            <path id="loop-offset" fill-opacity="0"
                                  d="M146.48,87.02c14.64,14.64,38.39,14.65,53.03,0s14.64-38.39,0-53.03s-38.39-14.65-53.03,0L120.5,60.5L94.52,87.02c-14.64,14.64-38.39,14.64-53.03,0c-14.64-14.64-14.64-38.39,0-53.03c14.65-14.64,38.39-14.65,53.03,0L120.5,60.5L146.48,87.02z"></path>

                            <path id="socket" d="M7.5,0c0,8.28-6.72,15-15,15l0-30C0.78-15,7.5-8.28,7.5,0z">
                                <animateMotion
                                        dur="2s"
                                        repeatCount="indefinite"
                                        rotate="auto"
                                        keyTimes="0;1"
                                        keySplines="0.42, 0.0, 0.58, 1.0">
                                    <mpath xlink:href="#loop-offset"/>
                                </animateMotion>
                            </path>

                            <path id="plug"
                                  d="M0,9l15,0l0-5H0v-8.5l15,0l0-5H0V-15c-8.29,0-15,6.71-15,15c0,8.28,6.71,15,15,15V9z">
                                <animateMotion
                                        dur="2s"
                                        rotate="auto"
                                        repeatCount="indefinite"
                                        keyTimes="0;1"
                                        keySplines="0.42, 0, 0.58, 1"
                                >
                                    <mpath xlink:href="#loop-normal"/>
                                </animateMotion>
                            </path>

                        </svg>
                    </h1>

                </header>
                <button id="refresh" onclick="refreshing()">Refresh sentiment score</button>

                <!--<span class="image main"><img src="static/images/pic11.jpg" alt=""/></span>-->


                <p>The sentiment score represents the answer to the life universe and everything.
                    It uses cutting edge AI power of OpenAI's GPT-3 for finding out whether the specific renewable
                    resources will increase of decrease on the following day. After which it predicts the expected need
                    for power during that day by using a well-trained tensorflow model.
                    See?
                    It really includes everything, it's literally the most comlpicated single number I've ever seen.
                    Just take a moment and appreciate this before pressing the refresh button again and again to get an
                    advantage in the power industry.</p>

            </section>


        </div>
    </div>


    <!-- Scripts -->
    <script src="static/assets/js/jquery.min.js"></script>
    <script src="static/assets/js/browser.min.js"></script>
    <script src="static/assets/js/breakpoints.min.js"></script>
    <script src="static/assets/js/util.js"></script>
    <script src="static/assets/js/main.js"></script>

</body>
</html>